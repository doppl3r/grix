$mobileWidth: 768;
$columns: 12;
$fillColumn: true;

/* round decimal value to ceiling */
@function decimal-ceil ($number, $digits: 0, $n: 1) {
    @for $i from 1 through $digits { $n: $n * 10; }
    @return ceil($number * $n) / $n;
}

@function getWidth($i) {
    @return decimal-ceil(percentage($i / $columns), 4);
}

/* compile CSS width */
@mixin setWidth($i) {
    width: getWidth($i);
}

/* GRIX default column system */
.row {
    display: flex;
    flex-wrap: wrap;

    [class*="col-"] {
        box-sizing: border-box;
        padding: 0 12px;
        flex-grow: if($fillColumn, 1, 0);
    }

    @for $i from 1 through $columns {
        .col-#{$i}-m {
            @include setWidth($i)
        }
    }
    @for $i from 1 through $columns {
        .col-#{$i} {
            @include setWidth($i)
        }
    }
}

/* mobile column system */
@media(max-width: $mobileWidth + "px") {
    .row {
        @for $i from 1 through $columns {
            [class*="col-"].col-#{$i}-m {
                @include setWidth($i)
            }
        }
        @for $i from 1 through $columns {
            .col-#{$i} {
                width: 100%;
            }
        }
    }
}